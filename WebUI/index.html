<html ng-app="sjpApp">
<head>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
  <!-- <script src="./local/angular.min.js"></script> -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <!-- <script src="./local/jquery-1.9.1.min.js"></script> -->
	<script src="./controllers.js"></script>
	<link rel="stylesheet" type="text/css" href="style.css" />
  <title>Madrona Jobs Search</title>
  <!-- Great site for creating icon files: http://convertico.org/ -->
  <link rel="shortcut icon" href="images/madrona_logo.ico" type="image/x-icon"/>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-43671451-1', 'madrona-sjp.s3.amazonaws.com');
    ga('send', 'pageview');
  </script>
</head>
<body class="gradient">
	<div ng-controller="ContentSelectionController" class="contentSelector">
    <div class="searchBox">
      <form ng-submit="searchJobs()" style="display:inline">
        <table>
          <tr>
            <td style="width:100%">
              <input style="width:100%" ng-model="searchString.text" placeholder="Enter regular expression search string"></input>
            </td>
            <td>
              <button>Search</button>
            </td>
          </tr>
        </table>
        <input type="checkbox" ng-model="searchString.caseInsensitive">Case-insensitive</input>
        <input type="checkbox" ng-model="searchString.global">Global</input>
        <input type="checkbox" ng-model="searchString.multiline">Multi-line</input>
        <input type="checkbox" ng-model="searchString.searchTitles">Search Titles</input>
        <input type="checkbox" ng-model="searchString.searchDescriptions">Search Descriptions</input>
      </form>
      <br />
      <i>
        For info on regular expressions, see
        <a href="http://www.w3schools.com/jsref/jsref_obj_regexp.asp">this reference</a>
      </i>
    </div>
    <br />
    <button ng-click="toggleAllCompanyJobListViews()">{{ { true: 'Expand All', false: 'Collapse All' }[toggleAllCausesExpansion] }}</button>
		<ul>
			<li ng-repeat="company in companies" ng-show="company.visible">
				<a href="javascript:void(0)" ng-click="toggleJobListView(company)">
					{{ company.name }}
				</a>
				<ul ng-show="company.expanded">
					<li ng-repeat="job in company.jobs" ng-show="job.visible">
						<a ng-href="javascript:void(0);" ng-click="selectJd($parent.$index, $index)">
							{{ job.Title }}
						</a>
					</li>
				</ul>
			</li>
		</ul>
    <br />
	</div>
	<div ng-controller="ContentDisplayController" class="contentDisplay">
		<h1>{{ company }}</h1>
		<h2>{{ title }}</h2>
		<a ng-href="{{ sourceUri }}">Link to Original</a><br /><br />
		<div ng-bind-html-unsafe="fullHtmlDescription"></div><br />
    <br />
	</div>
  <div class="footer">
    &#169; 2013 Madrona Venture Group, LLC. 206-674-3000. <a href="mailto:information@madrona.com">information@madrona.com</a>.
  </div>
</body>
</html>
